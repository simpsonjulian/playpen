<html>
	<head>
		<title>Refactoring Ant for fun and profit</title>
	</head>
	<body>
		<p>Your build files probably suck.  Sorry.  It's true.  If you're lucky enough to work on a project with clean code (and let's face it, most codebases aren't too pretty), then you're even luckier to have a nice clean build.  Wait!  Don't go getting upset, I can help you.</p>

	<p>I'll be introducing some <strong>build refactorings</strong> in this series.  You can refactor code, so why not your build files?  I wrote an article about this in the ThoughtWorks Anthology.  The Pragmatic Programmers own that now so I'm writing some short articles for this blog.  BTW: I didn't see a thing from the book deal. Please use the Amazon link above if you want to buy a copy of the book.  That way my late nights won't quite be in vain.</p>

	<p>Today's refactoring is <strong>extract target</strong>. Consider the following build file:
<%= to_html_no_syntax("code/refactoring/before.xml")	%>
	</p>
	
	<p>It's a bit obtuse, isn't it?  It's doing several things at once and it's difficult to see what's going on.
		Let's start by teasing it apart into it's constituent parts:
		<%= to_html_no_syntax("code/refactoring/after.xml")	%>
	</p>
	
	<p>I think that's much nicer.  You don't need XML comments in the middle of your target line because each smaller target can have a descriptive name.
	
When you make a minor change, you're likely only to change one target.  You can contain your changes, and if  you're debugging you can run just one target if you need to.  And most importantly, it's readable.</p>
	

	</body>

</html>
